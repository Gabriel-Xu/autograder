<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade</title>
    <link rel="stylesheet" type="text/css" href="../profile.css">
</head>
<body data-new-gr-c-s-check-loaded="14.1128.0" data-gr-ext-installed="" data-new-gr-c-s-loaded="14.1128.0">
    <div class="navbar">
        <ul class="nb">
            <li class="nb"><a href="/grade/profile">Home</a></li>
            <li class="nb"><a href="/grade/status">Submissions</a></li>
            <li class="nb"><a href="/grade/contests">Contests</a></li>
            <li class="nb"><a href="/grade/problemset">Problemset</a></li>
            <li class="nb"><a class="active" href="/grade/submit">Submit</a></li>
	    <li class="nb"><a href="/grade/info">Rules and Info</a></li>
        </ul>
    </div>
 <div id="particles-js" class="particles-js">   
</div>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <script>
    /* particlesJS.load(@dom-id, @path-json, @callback (optional)); */
particlesJS.load('particles-js', '../particles.json', function() {
  console.log('callback - particles.js config loaded');
});
    </script>
    <div class="main-block">
        <div class="title">Submit</div>
        <div class="problem-text">Java users, make sure you are using package "subcode" and naming the class "test"</div>
    </div>
    <div class="main-block">
        <form action="/grade/status" method="POST" enctype="multipart/form-data">
            <div class="problem-text">
		<select id="problemid" name="problemid">
	        <% for (let i=0; i<locals.problem.length; i++) { %>
			<option value=<%= locals.problem[i].pid %> <% if(locals.problem[i].pid==locals.problemid) { %> selected  <% } %> > <%= locals.problem[i].pid + " - " + locals.problem[i].name %> </option>
		<% } %>	
		</select>
		<br>
            </div>
            <div class="problem-text">
                <select id="lang" name="lang">
		<% if( locals.lastlang == "cpp"){ %>
                    <option value="cpp">C++</option>
		<% }else{ %>
                    <option value="cpp" selected>C++</option>
		<% } %>
		<% if( locals.lastlang == "java"){ %>
                    <option value="java" selected>Java</option>
		<% }else{ %>
                    <option value="java">Java</option>
		<% } %>
		<% if( locals.lastlang == "python"){ %>
                    <option value="python" selected>Python</option>
		<% }else{ %>
                    <option value="python">Python</option>
		<% } %>
                </select>
                <br>
                <textarea id="codeinput" name="code" rows="20" cols="150" spellcheck="false" placeholder="Insert code here"></textarea>
            </div>
	    <br>
	    <div class="problem-text">
	    	File upload:
	    	<input type='file' name='files'>
	    </div>
            <div class="option-buttons">
                <button class="button" type="submit">Submit</button>
            </div>
        </form>
    </div>

<script type="text/javascript">
  document.getElementById('codeinput').addEventListener('keydown', function(e) {
  if (e.key == 'Tab') {
    e.preventDefault();
    var start = this.selectionStart;
    var end = this.selectionEnd;

    // set textarea value to: text before caret + tab + text after caret
    this.value = this.value.substring(0, start) +
      "\t" + this.value.substring(end);

    // put caret at right position again
    this.selectionStart =
      this.selectionEnd = start + 1;
  }
});
</script>

</body></html>

